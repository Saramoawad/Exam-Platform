<div class="container">
  <div class="row justify-content-center align-content-center card-container">
    <div class="d-flex justify-content-between align-items-center px-4 mb-3">
      <h1>Exams</h1>
      <a class="btn add-btn text-white" [routerLink]="['/teacher/add-exam']"
        >Add Exam</a
      >
    </div>
    @for (exam of exams; track exam._id) {
    <div class="col-lg-3 col-md-6 col-sm-6 coll">
      <div class="card-item">
        <div class="card-link position-relative">
          <div
            class="img-container d-flex justify-content-center align-items-center rounded-4"
          >
            @if (exam.image == null) {
            <img
              src="exam-icon.png"
              alt="Card Image"
              class="card-image img-fluid"
            />
            } @else {
            <img
              [src]="apiUrl + exam.image"
              alt="Card Image"
              class="card-image img-fluid"
            />
            }
          </div>
          <small class="badge position-absolute">{{ exam.subject }}</small>
          <div
            class="d-flex  justify-content-between align-items-center"
          >
            <p class="main">{{ exam.name }}</p>
            <small class="px-2 badge bg-light text-dark">{{exam.questions?.length}}Q</small>
          </div>
          <h2 class="card-title">
            {{ exam.description }}
          </h2>
          <div class="my-3 exam-three">
            <div
              class="d-flex justify-content-center align-items-center m-0 p-0"
            >
              <div
                class="d-flex flex-column justify-content-center align-items-center"
              >
                <p class="text-muted mx-1 my-0 fw-medium">
                  {{ exam.duration }}
                </p>
                <p class="text-muted mx-1 my-0 text-uppercase fw-light">
                  Duration
                </p>
              </div>
              <div
                class="d-flex flex-column justify-content-center align-items-center"
              >
                <p class="text-muted mx-1 my-0 fw-medium">
                  {{ exam.passingMarks }}
                </p>
                <p class="text-muted mx-1 my-0 text-uppercase fw-light">Pass</p>
              </div>
              <div
                class="d-flex flex-column justify-content-center align-items-center"
              >
                <p class="text-muted mx-1 my-0 fw-medium">
                  {{ exam.totalMarks }}
                </p>
                <p class="text-muted mx-1 my-0 text-uppercase fw-light">
                  Total
                </p>
              </div>
            </div>
          </div>
          <div class="d-flex justify-content-between align-items-center">
            <div class="m-0">
              <button
                class="card-button btn btn-warning text-white rounded-start-circle rounded-end-0"
                [routerLink]="['/teacher/edit-exam/' + exam._id]"
                disabled
              >
                <i class="fa-solid fa-pen-to-square"></i>
              </button>
              <button
                class="card-button btn btn-success rounded-0"
                [routerLink]="['/teacher/exam/' + exam._id]"
              >
                <i class="fa-solid fa-eye"></i>
              </button>
              <button
                class="card-button btn btn-danger rounded-start-0 rounded-end-circle"
                (click)="deleteExam(exam._id)"
              >
                <i class="fa-solid fa-delete-left"></i>
              </button>
            </div>
            <button class="btn custom-btn">{{ exam.user?.username }}</button>
          </div>
        </div>
      </div>
    </div>
    } @empty {
    <div
      class="d-flex flex-column justify-content-center align-items-center my-4"
    >
      <img src="no-exams.png" class="img-fluid no-exams" alt="no-found" />
      <p class="fs-5 text-center my-3 fw-semibold text-muted">
        No Exams Found!
      </p>
    </div>
    }
  </div>
</div>
